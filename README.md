import requests: Импортирует библиотеку requests, которая позволяет отправлять HTTP-запросы и получать ответы. 

def get_exchange_rate():: Определяет функцию get_exchange_rate, которая получает текущий курс рубля к доллару.

url = "https://api.exchangerate-api.com/v4/latest/RUB": Устанавливает URL-адрес API, который возвращает актуальные курсы валют относительно рубля (RUB).

response = requests.get(url): Отправляет GET-запрос по указанному URL и сохраняет ответ в переменной response.

if response.status_code == 200:: Проверяет, был ли запрос успешным (код состояния 200 означает успех).

data = response.json(): Преобразует ответ в формате JSON в словарь Python для дальнейшей обработки.

return data['rates']['USD']: Возвращает курс доллара (USD) относительно рубля из полученных данных.

else:: Если запрос не удался...

print("Ошибка при получении данных о курсах валют."): Выводит сообщение об ошибке.

return None: Возвращает None, чтобы указать на неудачу получения данных.

def convert_rub_to_usd(rubles, exchange_rate):: Определяет функцию convert_rub_to_usd, которая конвертирует сумму в рублях в доллары по заданному курсу.

return rubles * exchange_rate: Умножает количество рублей на курс обмена и возвращает результат в долларах.

def main():: Определяет основную функцию программы, в которой происходит взаимодействие с пользователем.

print("Программа конвертации рублей в доллары"): Выводит приветственное сообщение.

exchange_rate = get_exchange_rate(): Вызывает функцию get_exchange_rate для получения текущего курса доллара. Результат сохраняется в переменной exchange_rate.

if exchange_rate is None:: Проверяет, была ли ошибка при получении курса. Если да, то...

return: Завершает выполнение функции main.

print(f"Текущий курс рубля к доллару: 1 RUB = {exchange_rate} USD"): Выводит текущий курс рубля к доллару.

while True:: Начинает бесконечный цикл для ввода пользователем суммы в рублях.

try:: Начинает блок обработки исключений.

except ValueError:: Обрабатывает исключение, если произошла ошибка преобразования (например, пользователь ввел текст вместо числа).

print("Выход из программы."): Выводит сообщение о выходе из программы.

break: Прерывает бесконечный цикл

rubles = float(input("Введите сумму в рублях (или 'exit' для выхода): ")): Запрашивает у пользователя ввод суммы в рублях. Если пользователь введет нечисловое значение, произойдет ошибка.

if __name__ == "__main__":: Проверяет, что файл выполняется как основная программа. Это позволяет избежать выполнения кода при импорте файла как модуля в другой программе.

main(): Вызывает основную функцию программы, если файл выполняется как основная программа.

• dollars = convert_rub_to_usd(rubles, exchange_rate): Вызывает функцию convert_rub_to_usd, передавая ей сумму рублей и курс обмена. Результат сохраняется в переменной dollars.

• print(f"{rubles} рублей = {dollars:.2f} долларов"): Выводит результат конвертации, форматируя его до двух знаков после запятой.
